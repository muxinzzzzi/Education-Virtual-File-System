# 改进后CLI客户端 - 快速入门指南

## 🚀 快速启动

```bash
# 方法1: 使用演示脚本（推荐）
./demo_improved_cli.sh

# 方法2: 手动启动
cd build
./review_server review_system.img &    # 启动服务器
./review_client localhost 8080         # 启动客户端
```

---

## 👥 测试账号

| 角色 | 用户名 | 密码 | 说明 |
|------|--------|------|------|
| 作者 | alice | password123 | 可上传论文、查看状态 |
| 审稿人 | bob | password123 | 可下载论文、提交审稿 |
| 编辑 | editor1 | password123 | 可分配审稿人、做决定 |
| 管理员 | admin | admin123 | 系统管理功能 |

---

## 💡 高效使用技巧

### 1. 利用智能记忆功能

当系统显示默认值提示时，直接按回车即可使用：

```bash
➜ 论文ID [P001]: ⏎  # 直接回车使用P001
ℹ 使用最近的论文ID: P001
```

### 2. 连续操作工作流

**场景**: 作为作者上传论文后立即查看状态

```
1. 选择 [1] 上传新论文
   → 上传成功后，系统记住论文ID (如 P001)

2. 选择 [2] 查看论文状态
   → 提示: 论文ID [P001]:
   → 直接回车，无需输入！
```

### 3. 编辑工作流优化

**场景**: 为同一篇论文分配多个审稿人

```
1. 选择 [1] 手动分配审稿人
   → 输入论文ID: P001
   → 输入审稿人: bob
   → 系统记住 P001 和 bob

2. 再次选择 [1]
   → 论文ID [P001]: ⏎  # 使用记住的P001
   → 审稿人 [bob]:     # 可以回车用bob，或输入新的
   → 输入新审稿人: charlie
```

---

## 🎨 界面元素说明

### 图标含义

| 图标 | 含义 | 使用场景 |
|------|------|----------|
| ✓ | 成功 | 操作成功完成 |
| ✗ | 错误 | 操作失败 |
| ℹ | 信息 | 提示信息 |
| ⚠ | 警告 | 重要提示或确认 |
| ➜ | 提示符 | 等待输入 |
| ⬆ | 上传 | 上传相关操作 |
| ⬇ | 下载 | 下载相关操作 |
| 👁 | 查看 | 查看信息 |
| ✏ | 编辑 | 编辑/修改 |
| 📄 | 文档 | 论文相关 |
| 👤 | 用户 | 用户相关 |
| 🤖 | 智能 | AI/自动化功能 |

### 颜色含义

- 🟢 **绿色**: 成功、确认
- 🔴 **红色**: 错误、失败
- 🟡 **黄色**: 警告、提示
- 🔵 **蓝色**: 信息、数据
- 🔵 **青色**: 标题、强调

---

## 📋 常见操作示例

### 作者: 上传论文 → 查看状态 → 下载评审

```
登录 (alice/password123)
 ↓
[1] 上传新论文
 ├─ 标题: My Research Paper
 ├─ 文件: /path/to/paper.pdf
 ├─ 研究领域: AI,ML
 └─ ✓ 上传成功！论文ID: P001
 ↓
[2] 查看论文状态
 ├─ 论文ID [P001]: ⏎
 └─ 显示状态: Pending Review
 ↓
[4] 下载审稿意见
 ├─ 论文ID [P001]: ⏎
 └─ 查看所有审稿意见
```

### 编辑: 智能分配审稿人

```
登录 (editor1/password123)
 ↓
[5] 获取审稿人推荐
 ├─ 论文ID: P001
 ├─ 推荐数量: 5
 └─ 🤖 显示匹配度最高的5位审稿人
 ↓
[6] 自动分配审稿人
 ├─ 论文ID [P001]: ⏎
 ├─ 分配数量: 3
 ├─ 确认操作? (y/n): y
 └─ ⚡ 自动分配完成
```

### 审稿人: 下载论文 → 提交审稿

```
登录 (bob/password123)
 ↓
[1] 下载待审论文
 ├─ 论文ID: P001
 ├─ 保存路径 [paper_P001.pdf]: ⏎
 └─ ✓ 下载成功
 ↓
[2] 提交审稿意见
 ├─ 论文ID [P001]: ⏎
 ├─ 轮次 [R1]: ⏎
 ├─ 审稿文件: /path/to/review.txt
 └─ ✓ 提交成功
```

---

## ⚡ 快捷操作

### 快速查看（无需输入）

如果你刚刚操作过某个论文，需要再次查看：

1. 直接选择查看功能
2. 在论文ID提示处按回车
3. 立即显示结果

### 批量操作同一论文

为同一篇论文进行多个操作时，只需输入一次ID：

```
上传论文 (输入一次ID: P001)
  ↓
查看状态 (回车使用 P001)
  ↓
分配审稿人 (回车使用 P001)
  ↓
查看进度 (回车使用 P001)
```

---

## 🛡️ 防错机制

### 重要操作需要确认

以下操作会要求二次确认：
- ✅ 做出最终决定（接受/拒绝论文）
- ✅ 创建系统备份
- ✅ 恢复系统备份
- ✅ 自动分配审稿人

**示例**:
```
⚠ 确认要对论文 P001 做出决定: reject 吗？ (y/n): 
```

### 输入验证

系统会检查必填项：
```
⚠ 论文ID不能为空
⚠ 文件路径不能为空
```

---

## 🎯 最佳实践

### ✅ DO - 推荐做法

1. **利用默认值**: 看到 `[默认值]` 提示时，确认无误就直接回车
2. **查看反馈**: 操作完成后仔细阅读成功/失败信息
3. **按回车继续**: 看完结果后再按回车返回菜单
4. **连续操作**: 对同一对象的多次操作，系统会记住上下文

### ❌ DON'T - 避免做法

1. **不要忽略确认**: 重要操作的确认不是摆设
2. **不要盲目回车**: 默认值可能不是你想要的，先确认
3. **不要跳过错误信息**: 红色错误提示包含重要信息

---

## 🐛 故障排查

### 连接失败

```
✗ 连接服务器失败，请检查服务器是否启动
```

**解决方案**:
```bash
# 检查服务器是否运行
ps aux | grep review_server

# 如未运行，启动服务器
cd build
./review_server review_system.img &
```

### 登录失败

```
✗ 登录失败: 用户名或密码错误
```

**解决方案**: 检查用户名和密码（见上方测试账号表）

### 文件读取失败

```
✗ 无法读取文件: paper.pdf
```

**解决方案**:
1. 检查文件路径是否正确
2. 检查文件是否存在
3. 使用绝对路径或相对于当前目录的路径

---

## 🎉 享受改进后的体验！

现在你可以：
- ✨ 在美观的界面中工作
- 🚀 更快速地完成操作
- 😊 不用记住那么多ID
- 🛡️ 更安全地进行重要操作

**开始使用吧！**

